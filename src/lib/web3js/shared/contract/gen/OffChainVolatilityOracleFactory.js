// this file is generated by script, don't modify it !!!
import { ContractBase } from '../../../shared/contract/contract_base.js'
import { deleteIndexedKey } from '../../../shared/utils/web3.js'
import { offChainVolatilityOracleFactoryAbi } from '../abi/offChainVolatilityOracleFactoryAbi.js'

export class OffChainVolatilityOracleFactory extends ContractBase {
  // init
  constructor(chainId, contractAddress, initialBlock) {
    super(chainId, contractAddress, offChainVolatilityOracleFactoryAbi)
    // for pool use
    if (initialBlock) {
      this.initialBlock = initialBlock
    }
  }

  // query
  //  async controller() {
  //    const res = await this._call('controller', [])
  //    return deleteIndexedKey(res)
  //  }
  //  async getOfficialOracle(symbol) {
  //    const res = await this._call('getOfficialOracle', [symbol])
  //    return deleteIndexedKey(res)
  //  }
  async getOracle(symbol) {
    const res = await this._call('getOracle', [symbol])
    return deleteIndexedKey(res)
  }

  // tx
  //  async claimNewController(accountAddress) {
  //    return await this._transact('claimNewController', [], accountAddress)
  //  }
  async createOracle(accountAddress, symbol, signer, delayAllowance) {
    return await this._transact('createOracle', [symbol, signer, delayAllowance], accountAddress)
  }
  //  async setNewController(accountAddress, newController) {
  //    return await this._transact('setNewController', [newController], accountAddress)
  //  }

}